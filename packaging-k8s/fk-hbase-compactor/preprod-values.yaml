namespace: yak-compaction-preprod
fcp:
  team: "yak"
  appId: "preprod-yak-exp"
  mail: "yak-dev"
  service: "fk-hbase-compactor"

mtl:
  cosmos:
    statsd: disabled
    tail: disabled
    config: cosmos
  asterix: disabled

pod:
  replicaCount: 1

hostpopulator:
  state: disabled

image:
  yak-compactor:
    registry: jfrog.fkinternal.com
    repository: indradhanush/hbase-compactor-test
    tag: 0.1
    command: [ "/entrypoint" ]
    args: [ "com.flipkart.yak.HCompactor" ]
    volumes:
      - app
    livenessCheck:
      initialDelay: 180
      checkInterval: 15
      method: tcp
      port: 9311
    ports:
      - name: http
        containerPort: 9311
    maxCpuLimit: 3
    maxCpuAsk: 3
    maxMemoryLimit: 2Gi
    maxMemoryAsk: 2Gi
    envVarsFrom:
      - from: secret
        name: hadoop-user
      - from: secret
        name: kubectl-api-user

volumes:
  - name: app
    type: configMap
    value: app-config
    mountPath: /etc/hbase-compactor/


annotations:
  sidecar.istio.io/inject: "false"

newrelic:
  state: disabled

serviceAccount:
  name: yak-compactor-config-reader
  role: Role
  permissions:
    - apiGroup: ""
      resource: configmaps
      actions:
        - "get"
        - "list"
        - "watch"