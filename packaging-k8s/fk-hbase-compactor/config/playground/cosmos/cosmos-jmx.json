{
  "servers" : [
    {
      "port": "9311",
      "host": "localhost",
      "process": "hbase-compactor",
      "queries": [
        {
          "obj": "metrics:name=*",
          "saperator": ".",
          "typeNameModifiers": [
            {
              "typeNameMatcher": "metrics.com.flipkart.yak.policies.(.*)_(.*)_NumRegionInReport",
              "typeNameGenerator": "metrics.com.flipkart.yak.policies.NumRegionInReport",
              "tags": [
                {"name": "policy", "valueGenerator": "${1}"},
                {"name": "tenant", "valueGenerator": "${2}"}
              ]
            },
            {
              "typeNameMatcher": "metrics.com.flipkart.yak.aggregator.(.*)_(.*)_FinalNumRegion",
              "typeNameGenerator": "metrics.com.flipkart.yak.aggregator.FinalNumRegion",
              "tags": [
                {"name": "policy", "valueGenerator": "${1}"},
                {"name": "tenant", "valueGenerator": "${2}"}
              ]
            },
            {
              "typeNameMatcher": "metrics.com.flipkart.yak.core.RegionByRegionThreadedCompactionJob_(.*)_(.*)",
              "typeNameGenerator": "metrics.com.flipkart.yak.core.RegionByRegionThreadedCompactionJob",
              "tags": [
                {"name": "tenant", "valueGenerator": "${1}"},
                {"name": "policy", "valueGenerator": "${2}"}
              ]
            }
          ]
        }
      ],
      "numQueryThreads" : 2
    }
  ]
}
